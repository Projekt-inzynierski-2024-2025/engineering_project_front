@page "/add-edit-user/{userId:long?}"
@using Syncfusion.Blazor.DataForm
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Notifications

<PageTitle>@(IsEditing ? "Edytuj użytkownika" : "Dodaj użytkownika")</PageTitle>

<EditForm Model="@User" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <SfDataForm ID="MyForm" Model="@User">
        <FormValidator>
            <DataAnnotationsValidator></DataAnnotationsValidator>
        </FormValidator>
        <FormItems>
            <FormItem Field="@nameof(User.FirstName)" LabelText="Imię" />
            <FormItem Field="@nameof(User.LastName)" LabelText="Nazwisko" />
            <FormItem Field="@nameof(User.Email)" LabelText="Email" />
        </FormItems>
    </SfDataForm>
    <div>
        <label for="role">Stanowisko:</label>
        <InputSelect id="role" @bind-Value="User.Role">
            <option value="0">Administrator</option>
            <option value="1">Kierownik</option>
            <option value="2">Pracownik</option>
        </InputSelect>
    </div>
    <div>
        <label for="team">Zespół:</label>
        <InputSelect id="team" @bind-Value="User.TeamID">
            <option value="0">Wybierz zespół</option>
            @foreach (var team in Teams)
            {
                <option value="@team.ID">@team.Name</option>
            }
        </InputSelect>
    </div>

    <button type="submit">@(IsEditing ? "Zaktualizuj użytkownika" : "Dodaj użytkownika")</button>
    <button type="button" @onclick="Cancel">Cancel</button>
</EditForm>

<div>
<SfToast @ref="Toast" Title="Powiadomienie" Content="@Message" Timeout="500000" ShowCloseButton="true" >
    <ToastPosition X="Right" Y="Bottom"></ToastPosition>   
</SfToast>
</div>







